topojson=function(){function t(t,e){function n(e){var n=t.arcs[e],r=n[0],a=[0,0];return n.forEach(function(t){a[0]+=t[0],a[1]+=t[1]}),[r,a]}var r={},a={},o={};e.forEach(function(t){var e=n(t);(r[e[0]]||(r[e[0]]=[])).push(t),(r[e[1]]||(r[e[1]]=[])).push(~t)}),e.forEach(function(t){var e,r,c=n(t),s=c[0],i=c[1];if(e=o[s])if(delete o[e.end],e.push(t),e.end=i,r=a[i]){delete a[r.start];var u=r===e?e:e.concat(r);a[u.start=e.start]=o[u.end=r.end]=u}else if(r=o[i]){delete a[r.start],delete o[r.end];var u=e.concat(r.map(function(t){return~t}).reverse());a[u.start=e.start]=o[u.end=r.start]=u}else a[e.start]=o[e.end]=e;else if(e=a[i])if(delete a[e.start],e.unshift(t),e.start=s,r=o[s]){delete o[r.end];var f=r===e?e:r.concat(e);a[f.start=r.start]=o[f.end=e.end]=f}else if(r=a[s]){delete a[r.start],delete o[r.end];var f=r.map(function(t){return~t}).reverse().concat(e);a[f.start=r.end]=o[f.end=e.end]=f}else a[e.start]=o[e.end]=e;else if(e=a[s])if(delete a[e.start],e.unshift(~t),e.start=i,r=o[i]){delete o[r.end];var f=r===e?e:r.concat(e);a[f.start=r.start]=o[f.end=e.end]=f}else if(r=a[i]){delete a[r.start],delete o[r.end];var f=r.map(function(t){return~t}).reverse().concat(e);a[f.start=r.end]=o[f.end=e.end]=f}else a[e.start]=o[e.end]=e;else if(e=o[i])if(delete o[e.end],e.push(~t),e.end=s,r=o[s]){delete a[r.start];var u=r===e?e:e.concat(r);a[u.start=e.start]=o[u.end=r.end]=u}else if(r=a[s]){delete a[r.start],delete o[r.end];var u=e.concat(r.map(function(t){return~t}).reverse());a[u.start=e.start]=o[u.end=r.start]=u}else a[e.start]=o[e.end]=e;else e=[t],a[e.start=s]=o[e.end=i]=e});var c=[];for(var s in o)c.push(o[s]);return c}function e(e,r,a){function o(t){0>t&&(t=~t),(l[t]||(l[t]=[])).push(f)}function c(t){t.forEach(o)}function s(t){t.forEach(c)}function i(t){f=t,d[t.type](t.arcs)}var u=[];if(arguments.length>1){var f,l=[],d={LineString:c,MultiLineString:s,Polygon:s,MultiPolygon:function(t){t.forEach(s)}};"GeometryCollection"===r.type?r.geometries.forEach(i):i(r),l.forEach(3>arguments.length?function(t,e){u.push([e])}:function(t,e){a(t[0],t[t.length-1])&&u.push([e])})}else for(var h=0,v=e.arcs.length;v>h;++h)u.push([h]);return n(e,{type:"MultiLineString",arcs:t(e,u)})}function n(t,e){function n(t,e){e.length&&e.pop();for(var n,a=d[0>t?~t:t],o=0,c=a.length,s=0,h=0;c>o;++o)e.push([(s+=(n=a[o])[0])*i+f,(h+=n[1])*u+l]);0>t&&r(e,c)}function a(t){for(var e=[],r=0,a=t.length;a>r;++r)n(t[r],e);return e}function o(t){return t.map(a)}function c(t){return t=Object.create(t),t.coordinates=h[t.type](t.arcs),t}var s=t.transform,i=s.scale[0],u=s.scale[1],f=s.translate[0],l=s.translate[1],d=t.arcs,h={LineString:a,MultiLineString:o,Polygon:o,MultiPolygon:function(t){return t.map(o)}};return"GeometryCollection"===e.type?(e=Object.create(e),e.geometries=e.geometries.map(c),e):c(e)}function r(t,e){for(var n,r=t.length,a=r-e;--r>a;)n=t[a],t[a++]=t[r],t[r]=n}function a(t,e){for(var n=0,r=t.length;r>n;){var a=n+r>>>1;e>t[a]?n=a+1:r=a}return n}function o(t,e){function n(t,e){t.forEach(function(t){0>t&&(t=~t);var n=c[t]||(c[t]=[]);n[e]||(n.forEach(function(t){var n,r;r=a(n=s[e],t),n[r]!==t&&n.splice(r,0,t),r=a(n=s[t],e),n[r]!==e&&n.splice(r,0,e)}),n[e]=e)})}function r(t,e){t.forEach(function(t){n(t,e)})}function o(t,e){i[t.type](t.arcs,e)}var c=[],s=e.map(function(){return[]}),i={LineString:n,MultiLineString:r,Polygon:r,MultiPolygon:function(t,e){t.forEach(function(t){r(t,e)})}};return e.forEach(o),s}return{version:"0.0.4",mesh:e,object:n,neighbors:o}}();